import{S as G,i as I,s as N,e as h,a as q,c as v,h as T,b as $,d as f,f as y,g as k,j as m,k as g,l as b,m as w,t as u,n as _,o as E,p as V,q as z,r as p,u as C,v as L,w as R,x as D,y as U,z as B,A as F}from"../chunks/index.f0445174.js";import{b as H}from"../chunks/paths.b3f28384.js";import{G as J}from"../chunks/Table.svelte_svelte_type_style_lang.00e69176.js";import{E as K}from"../chunks/Embed.ac650855.js";import{C as O}from"../chunks/Chart.8c695fd1.js";import{a as Q}from"../chunks/utils.15a1d3d3.js";const{document:d}=z;function M(l){return d.title=l[0].title,{c:p,l:p,m:p,d:p}}function P(l){let t,s;return t=new J({props:{width:"narrow",colwidth:"full",$$slots:{default:[W]},$$scope:{ctx:l}}}),{c(){v(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){w(t,e,a),s=!0},p(e,a){const n={};a&5&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){_(t.$$.fragment,e),s=!1},d(e){E(t,e)}}}function S(l){let t,s=l[0].note+"",e;return{c(){t=h("div"),e=U(s),this.h()},l(a){t=$(a,"DIV",{class:!0});var n=D(t);e=B(n,s),n.forEach(f),this.h()},h(){m(t,"class","chart-note")},m(a,n){b(a,t,n),g(t,e)},p(a,n){n&1&&s!==(s=a[0].note+"")&&F(e,s)},d(a){a&&f(t)}}}function W(l){let t,s,e,a;s=new O({props:{section:l[0]}});let n=l[0].note&&S(l);return{c(){t=h("div"),v(s.$$.fragment),e=q(),n&&n.c(),this.h()},l(o){t=$(o,"DIV",{class:!0});var i=D(t);k(s.$$.fragment,i),e=y(i),n&&n.l(i),i.forEach(f),this.h()},h(){m(t,"class","chart-outer")},m(o,i){b(o,t,i),w(s,t,null),g(t,e),n&&n.m(t,null),a=!0},p(o,i){const r={};i&1&&(r.section=o[0]),s.$set(r),o[0].note?n?n.p(o,i):(n=S(o),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(o){a||(u(s.$$.fragment,o),a=!0)},o(o){_(s.$$.fragment,o),a=!1},d(o){o&&f(t),E(s),n&&n.d()}}}function X(l){let t,s,e=l[0]&&P(l);return{c(){e&&e.c(),t=C()},l(a){e&&e.l(a),t=C()},m(a,n){e&&e.m(a,n),b(a,t,n),s=!0},p(a,n){a[0]?e?(e.p(a,n),n&1&&u(e,1)):(e=P(a),e.c(),u(e,1),e.m(t.parentNode,t)):e&&(L(),_(e,1,1,()=>{e=null}),R())},i(a){s||(u(e),s=!0)},o(a){_(e),s=!1},d(a){e&&e.d(a),a&&f(t)}}}function Y(l){var i;let t,s,e,a,n,o=((i=l[0])==null?void 0:i.title)&&M(l);return a=new K({props:{$$slots:{default:[X]},$$scope:{ctx:l}}}),{c(){o&&o.c(),t=h("meta"),s=h("meta"),e=q(),v(a.$$.fragment),this.h()},l(r){const c=T("svelte-1jj4akj",d.head);o&&o.l(c),t=$(c,"META",{name:!0,content:!0}),s=$(c,"META",{name:!0,content:!0}),c.forEach(f),e=y(r),k(a.$$.fragment,r),this.h()},h(){m(t,"name","robots"),m(t,"content","noindex"),m(s,"name","googlebot"),m(s,"content","indexifembedded")},m(r,c){o&&o.m(d.head,null),g(d.head,t),g(d.head,s),b(r,e,c),w(a,r,c),n=!0},p(r,[c]){var A;(A=r[0])!=null&&A.title?o||(o=M(r),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const j={};c&5&&(j.$$scope={dirty:c,ctx:r}),a.$set(j)},i(r){n||(u(a.$$.fragment,r),n=!0)},o(r){_(a.$$.fragment,r),n=!1},d(r){o&&o.d(r),f(t),f(s),r&&f(e),E(a,r)}}}function Z(l,t,s){let{data:e}=t,a;return V(async()=>{const n=new URLSearchParams(document.location.search),o=n.get("area"),i=n.get("chart");if(o&&i&&e.places.map(r=>r.areacd).includes(o)){const r=await Q(`${H}/data/json/${o}.json`);s(0,a=r.sections.find(c=>c.id===i))}}),l.$$set=n=>{"data"in n&&s(1,e=n.data)},[a,e]}class oe extends G{constructor(t){super(),I(this,t,Z,Y,N,{data:1})}}export{oe as default};
