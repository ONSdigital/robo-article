import{S as q,i as z,s as D,k as h,a as C,y as v,Y as I,l as $,h as f,c as G,z as k,n as m,G as g,b,A as w,g as u,d as _,B as j,o as N,Z as O,H as p,e as S,v as V,f as B,m as T,q as H,r as L,u as R}from"../chunks/index.b4ad6b47.js";import{b as U}from"../chunks/paths.865d81fe.js";import{G as Y}from"../chunks/Table.svelte_svelte_type_style_lang.57828de8.js";import{E as Z}from"../chunks/Embed.d611dc72.js";import{C as F}from"../chunks/Chart.d5285760.js";import{a as J}from"../chunks/utils.15a1d3d3.js";async function K({parent:l}){const{places:t}=await l();return{places:t}}const re=Object.freeze(Object.defineProperty({__proto__:null,load:K},Symbol.toStringTag,{value:"Module"})),{document:d}=O;function M(l){return d.title=l[0].title,{c:p,l:p,m:p,d:p}}function P(l){let t,o;return t=new Y({props:{width:"narrow",colwidth:"full",$$slots:{default:[Q]},$$scope:{ctx:l}}}),{c(){v(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,a){w(t,e,a),o=!0},p(e,a){const n={};a&5&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){o||(u(t.$$.fragment,e),o=!0)},o(e){_(t.$$.fragment,e),o=!1},d(e){j(t,e)}}}function A(l){let t,o=l[0].note+"",e;return{c(){t=h("div"),e=H(o),this.h()},l(a){t=$(a,"DIV",{class:!0});var n=T(t);e=L(n,o),n.forEach(f),this.h()},h(){m(t,"class","chart-note")},m(a,n){b(a,t,n),g(t,e)},p(a,n){n&1&&o!==(o=a[0].note+"")&&R(e,o)},d(a){a&&f(t)}}}function Q(l){let t,o,e,a;o=new F({props:{section:l[0]}});let n=l[0].note&&A(l);return{c(){t=h("div"),v(o.$$.fragment),e=C(),n&&n.c(),this.h()},l(s){t=$(s,"DIV",{class:!0});var i=T(t);k(o.$$.fragment,i),e=G(i),n&&n.l(i),i.forEach(f),this.h()},h(){m(t,"class","chart-outer")},m(s,i){b(s,t,i),w(o,t,null),g(t,e),n&&n.m(t,null),a=!0},p(s,i){const r={};i&1&&(r.section=s[0]),o.$set(r),s[0].note?n?n.p(s,i):(n=A(s),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(s){a||(u(o.$$.fragment,s),a=!0)},o(s){_(o.$$.fragment,s),a=!1},d(s){s&&f(t),j(o),n&&n.d()}}}function W(l){let t,o,e=l[0]&&P(l);return{c(){e&&e.c(),t=S()},l(a){e&&e.l(a),t=S()},m(a,n){e&&e.m(a,n),b(a,t,n),o=!0},p(a,n){a[0]?e?(e.p(a,n),n&1&&u(e,1)):(e=P(a),e.c(),u(e,1),e.m(t.parentNode,t)):e&&(V(),_(e,1,1,()=>{e=null}),B())},i(a){o||(u(e),o=!0)},o(a){_(e),o=!1},d(a){e&&e.d(a),a&&f(t)}}}function X(l){var i;let t,o,e,a,n,s=((i=l[0])==null?void 0:i.title)&&M(l);return a=new Z({props:{$$slots:{default:[W]},$$scope:{ctx:l}}}),{c(){s&&s.c(),t=h("meta"),o=h("meta"),e=C(),v(a.$$.fragment),this.h()},l(r){const c=I("svelte-1jj4akj",d.head);s&&s.l(c),t=$(c,"META",{name:!0,content:!0}),o=$(c,"META",{name:!0,content:!0}),c.forEach(f),e=G(r),k(a.$$.fragment,r),this.h()},h(){m(t,"name","robots"),m(t,"content","noindex"),m(o,"name","googlebot"),m(o,"content","indexifembedded")},m(r,c){s&&s.m(d.head,null),g(d.head,t),g(d.head,o),b(r,e,c),w(a,r,c),n=!0},p(r,[c]){var y;(y=r[0])!=null&&y.title?s||(s=M(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const E={};c&5&&(E.$$scope={dirty:c,ctx:r}),a.$set(E)},i(r){n||(u(a.$$.fragment,r),n=!0)},o(r){_(a.$$.fragment,r),n=!1},d(r){s&&s.d(r),f(t),f(o),r&&f(e),j(a,r)}}}function x(l,t,o){let{data:e}=t,a;return N(async()=>{const n=new URLSearchParams(document.location.search),s=n.get("area"),i=n.get("chart");if(s&&i&&e.places.map(r=>r.areacd).includes(s)){const r=await J(`${U}/data/json/${s}.json`);o(0,a=r.sections.find(c=>c.id===i))}}),l.$$set=n=>{"data"in n&&o(1,e=n.data)},[a,e]}class le extends q{constructor(t){super(),z(this,t,x,X,D,{data:1})}}export{le as component,re as universal};
